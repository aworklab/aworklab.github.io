---
title:  "R 코드 테스트"
excerpt: "R은 어떻게 작동할까요?"

categories:
  - R
tags:
  - 서시
  - 윤동주
  - 시
last_modified_at: 2020-02-03
---

<center><img src= '_posts/_img/89e551469e53c8df1c674c00cacd057e_picture.jpg' widht = 300, height = 300></center>
R 코드가 제대로 들어갈까요?

```R
library(tidyverse)
library(lubridate)


lubridate::isoweek

lubridate::Compare
Compare
lubridate::lubridate_formats
lubridate_formats
lubridate::`.__T__year<-:lubridate`
`.__T__year<-:lubridate`

ymd('2020-01-04') %m+% month(1)


mtcars -> raw
rownames_to_column(raw) %>% 
  as.tibble -> raw
raw
boxplot(data = raw, mpg~cyl, horizontal = T, axis(labels = c(size = 2, "No", "Yes")))
help(boxplot)

library(glue) %>% 
mtcars -> raw
raw %>% 
  glue_data('{rowname} has mpg value as {mpg} with {cyl} cylinders ')

a <- read_csv("https://raw.githubusercontent.com/jinseob2kim/jinseob2kim.github.io/master/smc_example.csv")
a %>% 
  subset(Sex == 'M')
a %>% 
  filter(Sex == 'M') %>% 
  glm(DM ~ Age + BMI + Weight, data = ., family = binomial)
a %>% 
  select(ends_with('i'))
a %>% 
  select(matches('_'))
sapply(a, class)
apply(a, 2, class)
a
map_chr(a, class)
unlist(map(a, class))
a
sapply(a, function(x) {x[1]})

a %>% map_chr('[', 1)
a %>% 
  group_split(Sex) %>% 
  lapply(function(x){lm(Death ~ Age, data = x, familiy = binomial)})

a %>% 
  group_split(Sex) %>% 
  map(~lm(Death ~ Age, data = ., familiy = binomial))

a %>% 
  group_split(Sex) %>% 
  sapply(function(x){
    lm(Death ~ Age, data = x, family = binomial) %>% 
      summary %>% 
      .$coefficients %>% 
      .[8]
  })

a %>% 
  group_split(Sex) %>% 
  sapply(function(x){
    lm(Death ~ Age, data = x, family = binomial) %>% 
      summary %>% 
      .$coefficients
  })

a %>% 
  group_split(Sex) %>% 
  map_chr(~lm(Death~Age, data = ., family = binomial) %>% 
        summary %>% 
        .$coefficients %>% 
        .[8])

a %>% 
  group_split(Sex) %>% 
  map(~lm(Death ~ Age, data = ., family = binomial)) %>% 
  map(summary) %>% 
  map("coefficient")

a %>% 
  group_split(Sex) %>% 
  map(~lm(Death ~ Age, data = ., family = binomial)) %>% 
  map(sumamry) %>% 
  map("coefficient")

name <- c('alice', 'bob')
place <- c('LA', 'NY')

map2_chr(name, place, ~paste(.x, "was born at", .y))
```
